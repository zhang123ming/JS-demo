<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Title</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				list-style: none;
			}

			#box {
				width: 800px;
				border: 1px solid #ccc;
				margin: 100px auto;
				padding: 20px;
			}

			#my_textarea {
				/*width: 80%*/
			}

			.box_top {
				margin-bottom: 20px;
			}

			#ul {
				margin: 0px 70px;
			}

			#ul li {
				border-bottom: 1px dashed #ccc;
				color: red;
				line-height: 45px;
			}

			#ul li a {
				float: right;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<div class="box_top"></div>
			<lable>发表评论:</lable>
			<textarea id="my_textarea" style="resize: none" cols="60" rows="10"></textarea>
			<button id="btn">发表</button>
			<ul id="ul">
			</ul>
		</div>

		<script>
			window.onload = function() {
				
				//1、监听按钮的点击
				$("btn").onclick = function() {
					// 获取用户输入的内容
					var content = $('my_textarea').value;
					//    判断内容是否为空

					if (content.length === 0) {
						alert("请输入评论内容");
						return;
					};

					//    创建li标签
					var li = document.createElement("li");
					li.innerHTML = content + new Date().toLocaleDateString() + '<a href="javascript::">删除</a>';
				
					$("ul").insertBefore(li, $("ul").children[0]);
					//    清除输入框内的内容
					$("my_textarea").value = "";

					//    删除评论
					var as = $("ul").getElementsByTagName('a');
					for (var i = 0; i < as.length; i++) {
						var a = as[i];
						a.onclick = function() {
							//    获取父级标签 删除
							this.parentNode.remove();
						}
					}

				}


			}

			function $(id) {
				return typeof id === "string" ? document.getElementById(id) : null;
			}
		</script>
	</body>
</html>
