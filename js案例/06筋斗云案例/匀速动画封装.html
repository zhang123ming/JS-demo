<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}

			#dv {
				width: 200px;
				height: 100px;
				background: #006600;
				position: absolute;
			}
		</style>
	</head>
	<body>
		<input type="button" value="移动到400px" id="btn1">
		<input type="button" value="移动到800px" id="btn2">
		<div id="dv"></div>
		<script>
			window.onload = function() {
				function my$(id) {
					return document.getElementById(id);
				}
				my$("btn1").onclick = function() {
					animate(my$("dv"), 400);
				}
				my$("btn2").onclick = function() {
					animate(my$("dv"), 800)
				}

				function animate(element, target) {
					clearInterval(element.timerId);
					element.timeId = setInterval(function() {
						var current = element.offsetLeft;
						// 移动的步数
						var step = 10;
						step = target > current ? step : -step;
						current += step;
						if (Math.abs(current - target) > Math.abs(step)) {
							element.style.left = current + 'px';
						} else {
							clearInterval(element.timeId);
							element.style.left = target + "px";
						}
					}, 20);

				}
			}
		</script>
	</body>
</html>
