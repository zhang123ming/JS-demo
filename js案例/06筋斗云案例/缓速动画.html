<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}

			#dv {
				width: 200px;
				height: 100px;
				background: #006600;
				position: absolute;
			}
		</style>
	</head>
	<body>
		<input type="button" value="移动到400px" id="btn1">
		<input type="button" value="移动到800px" id="btn2">
		<div id="dv"></div>
		<script>
			window.onload = function() {
				function my$(id) {
					return document.getElementById(id);
				}
				my$("btn1").onclick = function() {
					animate(my$("dv"), 400);
				}
				my$("btn2").onclick = function() {
					animate(my$("dv"), 800)
				}

				function animate(element, target) {
					clearInterval(element.timerId);
					element.timeId = setInterval(function() {
						var current = element.offsetLeft;
						// 移动的步数
						var step = (target - current) / 10;
						step = step > 0 ? Math.ceil(step) : Math.floor(step);
						current += step;
						if (current === target) {
							clearInterval(element.timeId);
						} else {
							element.style.left = current + 'px';
						}
						console.log("目标位置："+target+"当前位置："+current+"每次移动步数"+step);
					}, 20);

				}
			}
		</script>
	</body>
</html>
