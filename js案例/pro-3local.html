<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link href="https://cdn.bootcss.com/twitter-bootstrap/3.0.0-rc1/css/bootstrap.css" rel="stylesheet">
		<style>
			* {
				margin: 0;
				padding: 0;
			}

			.box ul li {
				list-style: none;
				background: #00ABEB;
				position: relative;
				margin-top: 10px;
			}

			.box ul li a {
				position: absolute;
				right: 20px;
				color: #333;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col-md-12 text-center">
					<h3>发表评论</h3>
					<textarea rows="7" cols="70" style="resize: none;" id="boxtextarea"></textarea>
					<br>
					<button class="btn btn-success" style="margin-top: 10px;">发表</button>
				</div>
				<div class="col-md-6 box">
					<ul class="item">
					</ul>
				</div>
			</div>
		</div>

		<script src="https://cdn.bootcss.com/jquery/3.3.0/jquery.min.js"></script>
		<script src="https://cdn.bootcss.com/twitter-bootstrap/3.0.0-rc2/js/bootstrap.js"></script>
		<script>
			window.onload = function() {
				let comment = [];
				let commLsit=JSON.parse(localStorage.getItem('commArr'))
				console.log(commLsit);
				let item = document.getElementsByClassName("item")[0];
				let btn = document.getElementsByClassName("btn")[0];
				let valBox = document.getElementById("boxtextarea");
				let chila = item.getElementsByTagName('a');
				// let li;
				for (let i = 0; i < commLsit.length; i++) {
					li = document.createElement('li');
					li.innerHTML = commLsit[i] + "<a href='#'>删除</a>"
					item.appendChild(li);
					for(var j=0;j<chila.length;j++){
						var as=chila[j];
						as.onclick=function(){
						this.parentNode.clear();
						}
					}
				}
				btn.onclick = function() {
					comment.push(valBox.value);
					localStorage.setItem('commArr', JSON.stringify(comment))
				valBox.value = "";
			}
			}
		</script>
	</body>
</html>
